<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="description" content="Robust admin is super flexible, powerful, clean &amp; modern responsive bootstrap 4 admin template.">
    <meta name="keywords" content="admin template, robust admin template, dashboard template, flat admin template, responsive admin template, web app, crypto dashboard, bitcoin dashboard">
    <meta name="author" content="PIXINVENT">

    <title>שי שירותי נמל בע"מ</title>

    <link rel="apple-touch-icon" href="../../../app-assets/images/ico/apple-icon-120.png">
    <link rel="shortcut icon" type="image/x-icon" href="../../../app-assets/images/ico/favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i%7CMuli:300,400,500,700" rel="stylesheet">
    <!-- BEGIN VENDOR CSS-->

    <link rel="stylesheet" type="text/css" href="../../../app-assets/css-rtl/vendors.css">

    <link rel="stylesheet" type="text/css" href="../../../app-assets/css-rtl/app.css">
    <link rel="stylesheet" type="text/css" href="../../../app-assets/css-rtl/core/menu/menu-types/vertical-content-menu.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css">


    <link rel="stylesheet" type="text/css" href="demos.css" />
    <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:300,600,400' rel='stylesheet' type='text/css'>-->
    <script src="../Scripts/ajaxCalls.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/jsgrid.css" />
    <link rel="stylesheet" type="text/css" href="../css/theme.css" />
    <script src="../external/jquery/jquery-1.8.3.js"></script>
    <!--<script src="../css/jquery-ui.js"></script>-->
    <script src="../Scripts/ajaxCalls.js"></script>
    <script src="../srcc/jsgrid.core.js"></script>
    <script src="../srcc/jsgrid.load-indicator.js"></script>
    <script src="../srcc/jsgrid.load-strategies.js"></script>
    <script src="../srcc/jsgrid.sort-strategies.js"></script>
    <script src="../srcc/jsgrid.field.js"></script>
    <script src="../srcc/fields/jsgrid.field.text.js"></script>
    <script src="../srcc/fields/jsgrid.field.number.js"></script>
    <script src="../srcc/fields/jsgrid.field.select.js"></script>
    <script src="../srcc/fields/jsgrid.field.checkbox.js"></script>
    <script src="../srcc/fields/jsgrid.field.control.js"></script>
    <script src="../srcc/fields/jsgrid.field.textarea.js"></script>
    <style>

        p, h1, h2, h3, span, td, tr, table {
            font-family: sans-serif;
        }

        .jsgrid-grid-body {
            height: 500px;
        }
        img {
            float: right;
            height: 30px;
            /*       width:60px; */
            padding-left: 14px;
        }
    </style>

    <script>


        $(document).ready(function () {


            U = JSON.parse(localStorage.getItem('User'));
            document.getElementById("UserName").innerHTML = U.UserName;
 

            //Adm = document.getElementsById("Price");

            if (U.UserType == "U") {

                $('#Price').hide();
                $('#Dashboard').hide();
                $('#MangeUsers').hide();
                /*     el.style.display = 'block';*/

            }
            //DATA = '';

            //$.ajax({
            //    type: "GET",
            //    contentType: "application/json; charset=utf-8",
            //    url: "../api/TransportCompany",

            //    success: function (result) {
            //        DATA = result;
            //    }
            //});


            $.ajax({
                type: "GET",
                contentType: "application/json; charset=utf-8",
                url: "../api/Drivers",
                data: "json"

            }).done(function (data) {

                $("#GatePas").jsGrid({

                    height: "70%",
                    width: "100%",
                    filtering: true,
                    editing: true,
                    inserting: true,
                    sorting: true,
                    sorter: true,
                    //paging: true,
                    autoload: true,

                    pageSize: 15,
                    pageButtonCount: 5,
                    deleteConfirm: function (item) {
                        return "?ימחק. האם אתה בטוח \"" + item.DriverFname + "\"  ";
                    },
                    controller: {

                        loadData: function (filter) {

                            return $.grep(data, function (item) {
                                // client-side filtering below (be sure conditions are correct)
                                return (!filter.DriverID || item.DriverID.indexOf(filter.DriverID) > 0)
                                    && (!filter.TransportComany || item.TransportComany.indexOf(filter.TransportComany) > -1)
                                    && (!filter.DriverFname || item.DriverFname.indexOf(filter.DriverFname) > -1)
                                    && (!filter.DriverLname || item.DriverLname.indexOf(filter.DriverLname) > -1)
                                    && (!filter.DriverPhone || item.DriverPhone.indexOf(filter.DriverPhone) > -1)
                                    && (!filter.DriverLicense || item.DriverLicense.indexOf(filter.DriverLicense) > -1);

                            });






                        },
                        updateItem: function (item) {
                            return $.ajax({
                                type: "PUT",
                                url: "../api/Drivers",
                                data: item
                            });

                        },
                        insertItem: function (item) {
                            return $.ajax({
                                type: "POST",
                                url: "../api/Drivers",
                                data: item,
                                success: function (html) {
                                    alert('הוכנס נהג חדש'/* + html*/);
                                },
                                error: function (jqXHR, textStatus, errorThrown) {
                                    if (jqXHR.status == 500) {
                                        alert('Internal error: ' + jqXHR.responseText);
                                    } else {
                                        alert('Unexpected error.');
                                    }
                                }
                            });

                        },
                        deleteItem: function (item) {
                            return $.ajax({
                                type: "DELETE",
                                url: "../api/Drivers",
                                cache: false
                            });
                        }




                    },

                    fields: [
                        { name: "DriverID", title: 'תעודת זהות', type: "number", width: 100, align: "center", validate: { validator: "required", message: "חובה להזין ת.ז" }, },
                        {
                            name: "TransportComany", title: 'חברת תובלה', type: "text", width: 100, align: "center", /*items: data,*/
                        /*    , valueField: "TransportComany", textField: "TransportComany",*/
                            validate: { validator: "required", message: "חובה להזין חברת תובלה" },
                        },

                        { name: "DriverFname", title: "שם פרטי", type: "text", width: 100, align: "center", validate: { validator: "required", message: "חובה להזין שם פרטי" } },
                        { name: "DriverLname", title: "שם משפחה", type: "text", width: 100, align: "center" },
                        { name: "DriverPhone", type: "text", title: "טלפון", width: 100, align: "center",  validate: { message: "אורך מספר הטלפון לא כנדרש", validator: "rangeLength", param: [7, 15] } },
                        { name: "DriverLicense", type: "text", title: "סוג רשיון", width: 100, align: "center" },
                        {
                            type: "control",
                        }
                    ]
                });
            });
        })


    </script>
    <script>

        function byebye() {
            localStorage.clear();
            window.location.href = "login.html";
        }

    </script>


</head>
<body class="horizontal-layout horizontal-menu horizontal-menu-padding 2-columns   menu-expanded" data-open="hover" data-menu="horizontal-menu" data-col="2-columns">

    <!-- fixed-top-->

    <nav class="header-navbar navbar-expand-sm navbar navbar-with-menu navbar-static-top navbar-dark navbar-shadow navbar-border">
        <div class="navbar-wrapper">
            <div class="navbar-header">
                <ul class="nav navbar-nav flex-row">
                    <li class="nav-item mobile-menu d-md-none mr-auto"><a class="nav-link nav-menu-main menu-toggle hidden-xs" href="activeGatePass.html"><i class="ft-menu font-large-1"></i></a></li>
                    <li class="nav-item">
                        <a class="navbar-brand" href="../../../html/rtl/vertical-menu-template/index.html">
                            <img class="brand-logo" src="../Logo/pngegg.png" />


                            <h3 class="brand-text">שי שירותי נמל</h3>
                        </a>
                    </li>
                    <li class="nav-item d-md-none"><a class="nav-link open-navbar-container" data-toggle="collapse" data-target="#navbar-mobile"><i class="fa fa-ellipsis-v"></i></a></li>
                </ul>
            </div>

            <div class="navbar-container content">
                <div class="collapse navbar-collapse" id="navbar-mobile">
                    <!--<ul class="nav navbar-nav mr-auto float-left">
                        <li class="dropdown dropdown-user nav-item">
                            <button id="disConnect" style="margin-top:10px" onclick="byebye()" class="btn btn-outline-info btn-min-width btn-glow mr-1 mb-1"> התנתק</button>
                        </li>
                    </ul>-->
                    <ul class="nav navbar-nav float-right" style="margin-left: 100px">

                        <li class="dropdown dropdown-user nav-item" style="float:left">
                            <a class="fa fa-user-circle fa-2x" href="#" data-toggle="dropdown">&nbsp<span class="user-name" id="UserName"> </span></a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <div></div><a class="dropdown-item" style="text-align:right; font-size:medium;font-weight:bold; font-family:sans-serif" href="login.html"><i class="ft-power float-left "></i> התנתק</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    <!-- ////////////////////////////////////////////////////////////////////////////-->


    <div class="header-navbar navbar-expand-sm navbar navbar-horizontal navbar-fixed navbar-light navbar-without-dd-arrow navbar-shadow" role="navigation" data-menu="menu-wrapper">
        <div class="navbar-container main-menu-content container center-layout" data-menu="menu-container">
            <ul class="nav navbar-nav" id="main-menu-navigation" data-menu="menu-navigation">
                <li class="active" data-menu="dropdown"><a class="dropdown-toggle nav-link" style="font-size:18px" href="home.html" data-toggle="sans-serif"><i class="icon-home"></i><span data-i18n="nav.dash.main">עמוד הבית</span></a></li>
                <li class="active" data-menu="dropdown"><a class="dropdown-toggle nav-link" style="font-size:18px" href="CreatGatePass.html" data-toggle="sans-serif"><i class="icon-note"></i><span data-i18n="nav.templates.main"> יצירת גייטפס </span></a></li>
                <li class="dropdown nav-item" data-menu="dropdown">
                    <a class="dropdown-toggle nav-link" style="font-size:18px" href="#" data-toggle="dropdown"><i class="icon-drawer"></i><span data-i18n="nav.layouts.temp" style=" font-family:sans-serif">ניהול גייטפסים</span></a>
                    <ul class="dropdown-menu" style="width:50%">
                        <li data-menu=""><a class="dropdown-item" href="activeGatePass.html" style="border:solid 1px gray;" data-toggle="dropdown"><p>גייטפסים פעילים</p></a></li>
                        <li data-menu=""><a class="dropdown-item" href="archivePage.html" style="border:solid 1px gray;" data-toggle="dropdown"><p>ארכיון</p></a></li>
                    </ul>
                </li>
                <li class="active" data-menu="dropdown"><a class="dropdown-toggle nav-link" style="font-size:18px;  border:solid 1px gray; background-color:cornflowerblue" href="driver.html" data-toggle="sans-serif"><i class="icon-compass"></i><span data-i18n="nav.category.general"> נהגים</span></a></li>
                <li class="active" data-menu="megamenu"><a class="dropdown-toggle nav-link" style="font-size:18px" href="CustomBrokers.html" data-toggle="sans-serif"><i class="icon-user-following"></i><span data-i18n="nav.category.pages"> עמילי מכס</span></a></li>
                <li class="active" data-menu="dropdown"><a class="dropdown-toggle nav-link" style="font-size:18px;" href="transportComp.html" data-toggle="sans-serif"><i class="icon-briefcase"></i><span data-i18n="nav.category.ui"> לקוחות</span></a></li>
                <li class="active" data-menu="dropdown"><a class="dropdown-toggle nav-link" style="font-size:18px" href="#" data-toggle="sans-serif"><i class="icon-screen-desktop"></i><span data-i18n="nav.category.forms"> דשבורד</span></a></li>
                <li class="active"><a class="dropdown-toggle nav-link" style="font-size:18px;" href="transportComp.html" data-toggle="sans-serif"><i class="icon-briefcase"></i><span data-i18n="nav.category.ui"> הצעות מחיר</span></a></li>

            </ul>
        </div>
    </div>

    <!--//BEGIN OF THE GERID-->
    <div class="app-content content">
        <div class="content-wrapper">
            <div class="content-header row">
                <div class="content-header-left col-md-6 col-12 mb-2">
                    <h3 class="content-header-title" style="margin-right:100%; width:300px"><b>נהגים</b></h3>

                </div>
                <div class="content-header-right col-md-6 col-12">
                    <div class="media width-250 float-right">

                    </div>
                </div>
            </div>

            <div class="content-body">
                <!-- Basic scenario start -->
                <section id="basic">
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <!--<div class="card-header">

                                    <a class="heading-elements-toggle"><i class="fa fa-ellipsis-v font-medium-3"></i></a>
                                    <div class="heading-elements">
                                        <ul class="list-inline mb-0">
                                            <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
                                            <li><a data-action="reload"><i class="ft-rotate-cw"></i></a></li>
                                            <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
                                            <li><a data-action="close"><i class="ft-x"></i></a></li>
                                        </ul>
                                    </div>
                                </div>-->
                                <div class="card-content collapse show">
                                    <div class="card-body card-dashboard ">

                                        <div id="GatePas"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>


    <footer class="footer footer-static footer-light navbar-shadow">
        <p class="clearfix blue-grey lighten-2 text-sm-center mb-0 px-2 container center-layout"><span class="float-md-left d-bloWck d-md-inline-block">Copyright  &copy; 2018 <a class="text-bold-800 grey darken-2" href="https://themeforest.net/user/pixinvent/portfolio?ref=pixinvent" target="_blank">PIXINVENT </a>, All rights reserved. </span><span class="float-md-right d-block d-md-inline-blockd-none d-lg-block">Hand-crafted & Made with <i class="ft-heart pink"></i></span></p>
    </footer>
    <script src="../../../app-assets/vendors/js/vendors.min.js"></script>
    <script src="../../../app-assets/vendors/js/ui/jquery.sticky.js"></script>

    <script src="../../../app-assets/vendors/js/tables/jsgrid/jsgrid.min.js"></script>
    <script src="../../../app-assets/vendors/js/tables/jsgrid/griddata.js"></script>
    <script src="../../../app-assets/js/core/app-menu.js"></script>
    <script src="../../../app-assets/js/core/app.js"></script>
    <script src="../../../app-assets/js/scripts/tables/jsgrid/jsgrid.js"></script>
</body>
</html>
