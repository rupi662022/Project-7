<!DOCTYPE html>
<html data-textdirection="rtl">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>ניהול גייטפס</title>
    <link rel="stylesheet" type="text/css" href="demos.css" />
    <!--<link href='http://fonts.googleapis.com/css?family=Open+Sans:300,600,400' rel='stylesheet' type='text/css'>-->
    <script src="../Scripts/ajaxCalls.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/jsgrid.css" />
    <link rel="stylesheet" type="text/css" href="../css/theme.css" />
    <link href="../css/jquery-ui.theme.css" rel="stylesheet" />
    <link href="../css/jquery-ui.structure.css" rel="stylesheet" />
    <script src="../external/jquery/jquery-1.8.3.js"></script>
    <script src="../css/jquery-ui.js"></script>
    <script src="../src1/fields/jsgrid.field.text.js"></script>
    <script src="../src1/fields/jsgrid.field.textarea.js"></script>
    <script src="../src1/fields/jsgrid.field.select.js"></script>
    <script src="../src1/fields/jsgrid.field.number.js"></script>
    <script src="../src1/fields/jsgrid.field.control.js"></script>
    <script src="../src1/fields/jsgrid.field.checkbox.js"></script>
    <script src="../src1/jsgrid.core.js"></script>
    <script src="../src1/jsgrid.field.js"></script>
    <script src="../src1/jsgrid.load-indicator.js"></script>
    <script src="../src1/jsgrid.load-strategies.js"></script>
    <script src="../src1/jsgrid.sort-strategies.js"></script>
    <script src="../src1/jsgrid.validation.js"></script>


    <style>
        #Add {
            background-color: #3bafda;
            font-family: 'Helvetica Neue Light', 'Open Sans', Helvetica;
            font-weight: 300;
            font-size: 14px;
            float: right;
            margin-right: 50px;
            margin-bottom: 10PX;
            color: #fff;
            border-color: #3bafda;
            min-width: 8.5rem;
        }


        .my-custom-button {
            background-image: url('../css/google-docs.png');
            width: 16px;
            height: 16px;
            border: none;
            cursor: pointer;
        }
    </style>


    <script>



        $(document).ready(function () {

            //end of set Date

            $.ajax({
                type: "GET",
                contentType: "application/json; charset=utf-8",
                url: "../api/Drivers",
                data: "json"
            }).done(function (data) {



                $("#GatePas").jsGrid({

                    height: "70%",
                    width: "100%",
                    filtering: true,
                    editing: true,
                    inserting: true,
                    sorting: true,
                    sorter: true,
                    paging: true,
                    autoload: true,

                    pageSize: 15,
                    pageButtonCount: 7,
                    deleteConfirm: function (item) {
                        return "?ימחק. האם אתה בטוח \"" + item.Id + "\" נהג ";
                    },
                    controller: {

                        loadData: function (filter) {
                            return $.grep(data, function (item) {
                                // client-side filtering below (be sure conditions are correct)
                                return (!filter.Id || item.Id.indexOf(filter.Id) > -1)
                                    && (!filter.ContainerNum || item.ContainerNum.indexOf(filter.ContainerNum) > -1)
                                    && (!filter.ContainerType || item.ContainerType.indexOf(filter.ContainerType) > -1)
                                    && (!filter.TransportCompany || item.TransportCompany.indexOf(filter.TransportCompany) > -1)
                                    && (!filter.Importer || item.Importer.indexOf(filter.Importer) > -1)
                                    && (!filter.Note || item.Note.indexOf(filter.Note) > -1)
                                    && (!filter.CreatedDate || item.CreatedDate.indexOf(filter.CreatedDate) > -1);
                            });

                        },
                        updateItem: function (item) {
                            return $.ajax({
                                type: "PUT",
                                url: "../api/Drivers",
                                data: item
                            });

                        },
                        insertItem: function (item) {
                            return $.ajax({
                                type: "POST",
                                url: "../api/Drivers",
                                data: item
                            });

                        },

                        deleteItem: function (item) {
                            return $.ajax({
                                type: "PUT",
                                url: "../api/Drivers",
                                data: item
                            });

                        }
                    },
                    fields: [
                        { name: "DriverID", title: 'תעודת זהות', type: "text", width: 100, sorting: false, align: "center", },
                        { name: "TransportComany", title: 'חברת תובלה', type: "text", width: 100, align: "center", },
                        { name: "DriverFname", title: "שם פרטי", type: "text", width: 100, align: "center", },
                        { name: "DriverLname", title: "שם משפחה", type: "text", width: 100, align: "center", },
                        { name: "DriverPhone", type: "text", title: "טלפון", width: 100, align: "center", },
                        { name: "DriverLicense", type: "text", title: "סוג רשיון", width: 100, align: "center", },
                        //{ name: "CreatedDate", title: "תאריך יצירה", type: "date", width: 100, filtering: true, align: "center" },

                        {
                            type: "control",

                        },




                    ]
                });

            });

        })




    </script>


</head>
<body class="horizontal-layout horizontal-menu horizontal-menu-padding 2-columns   menu-expanded" data-open="hover" data-menu="horizontal-menu" data-col="2-columns">

    <h1>ניהול גייטפסים</h1>
    <div> <button id="Add">הוסף גייטפס חדש</button></div>
    <div dir="rtl" id="GatePas"></div>
</body>
</html>
